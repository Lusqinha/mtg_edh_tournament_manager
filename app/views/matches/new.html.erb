<div class="max-w-2xl mx-auto">
  <div class="mb-8">
    <h1 class="text-3xl font-bold text-theme-text mb-2">Iniciar Nova Partida</h1>
    <p class="text-theme-text/60">Selecione os jogadores que participarão desta partida.</p>
  </div>

  <div class="bg-theme-surface rounded-3xl border border-theme-text/10 p-6 md:p-8 shadow-xl">
    <%= form_with url: tournament_matches_path(@tournament), method: :post, class: "space-y-8" do |form| %>
      <div class="space-y-4">
        <label class="block text-sm font-bold text-theme-text/80 uppercase tracking-wider">Jogadores Disponíveis</label>
        
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
          <% @participants.each do |user| %>
            <div class="relative">
              <%= check_box_tag "player_ids[]", user.id, false, class: "peer sr-only", id: "player_#{user.id}" %>
              <label for="player_<%= user.id %>" class="flex items-center gap-3 p-4 rounded-xl bg-theme-base border border-transparent cursor-pointer transition-all hover:bg-theme-base/80 peer-checked:bg-theme-primary/20 peer-checked:border-theme-primary peer-checked:text-theme-text text-theme-text/80">
                <div class="w-5 h-5 rounded-full border-2 border-theme-text/40 flex items-center justify-center peer-checked:border-theme-primary peer-checked:bg-theme-primary transition-all">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 text-theme-text opacity-0 peer-checked:opacity-100" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                  </svg>
                </div>
                <span class="font-medium"><%= user.nickname %></span>
              </label>
            </div>
          <% end %>
        </div>
        
        <% if @participants.empty? %>
          <div class="text-center p-8 border border-dashed border-theme-text/10 rounded-xl text-theme-text/40">
            Nenhum jogador disponível para selecionar.
          </div>
        <% end %>
      </div>

      <div class="flex flex-col sm:flex-row gap-4 pt-4 border-t border-theme-text/5">
        <%= form.submit "Iniciar Partida", class: "flex-1 py-3.5 rounded-xl bg-theme-primary text-theme-text font-bold hover:bg-theme-primary/80 transition-colors shadow-lg shadow-theme-primary/20 cursor-pointer" %>
        <%= link_to "Cancelar", @tournament, class: "px-8 py-3.5 rounded-xl bg-theme-base text-theme-text/60 font-medium hover:bg-theme-base/80 transition-colors text-center" %>
      </div>
    <% end %>
  </div>
</div>
